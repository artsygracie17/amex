{"version":3,"file":"static/webpack/static/development/pages/home.js.6f968a23b8634584be68.hot-update.js","sources":["webpack:///./pages/home.js"],"sourcesContent":["/* First party */\nimport { Component } from 'react'\nimport { Grid, Row, Col } from 'react-styled-flexboxgrid'\nimport styled from 'styled-components'\n\n/* Third party */\nimport data from '../characters.json'\nimport ResultCard from '../components/ResultCard'\n\nconst Container = styled.div`\n    margin: 0 auto;\n`\n\nconst Title = styled.h1`\n    font-size: 2.5rem;\n    margin-bottom: 2rem;\n    text-align: center;\n`\n\nconst Name = styled.p`\n    color: ${props => props.isCurrentCharacter ? 'black' : 'gray'};\n    font-size: 1.2rem;\n    margin-bottom: 0.2em;\n    text-align: center;\n    vertical-align: middle;\n\n    &:hover {\n        transition: color 4s easein;\n        transition: border 2s ease;\n        color: black;\n        cursor: pointer;\n    }\n`\n\nconst NameUnderline = styled.hr`\n    border-top: ${props => props.isCurrentCharacter ? '1px solid black' : 'none'};\n    width: ${props => props.isCurrentCharacter ? '200px' : '0px'};\n    transition: width 0.5s;\n\n    ${Name}:hover & {\n        width: 200px;\n        border-top: 1px solid black;\n    }\n`\n\nconst Theme = styled(Grid)`\n    font-family: 'NeueHaasUnicaPro-Regular';\n    padding: 5rem;\n    padding-top: 1rem;\n`\n\nconst MarginedRow = styled(Row)`\n    margin-bottom: 2rem;\n`\n\nconst EmptyState = styled.p`\n    font-size: 1.2rem;\n    margin: 5rem;\n`\n\nexport default class Home extends Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            films: [],\n            selectedCharacter: '',\n            status: 'SETTLED'\n        }\n    }\n\n    alphabetizeFilms = (films) => {\n        const sortedFilms = films.sort(function(a, b){\n            if(a.title < b.title) { return -1; }\n            if(a.title > b.title) { return 1; }\n            return 0;\n        })\n        this.setState({\n            films: sortedFilms\n        })\n    }\n\n    handleCharacterNameClick = (name, reqUrl) => {\n        this.setState({\n            films: [],\n            selectedCharacter: name,\n            status: 'PENDING'\n        })\n        this.fetchFilms(reqUrl)\n        \n    }\n\n    async fetchFilms (reqUrl) {\n        fetch(reqUrl)\n        .then(res => {\n            if (!res.ok) {\n                this.setState({\n                    status: 'SETTLED'\n                })\n                throw Error(res.status)\n            } else {\n                return res.json()\n            }\n        })\n        .then(data => {\n            const filmUrls = data.films\n            filmUrls && filmUrls.map(url => {\n                fetch(url)\n                .then(res => res.json())\n                .then(filmData => {\n                    this.setState({\n                        films: [...this.state.films, filmData],\n                        status: 'SETTLED'\n                    })\n                })\n            })\n        }).catch(error => {\n            console.log(error)\n        })\n        this.alphabetizeFilms(this.state.films)\n    }\n    \n    render () {\n        const { handleCharacterNameClick, alphabetizeFilms } = this\n        const { films, status, selectedCharacter } = this.state\n        \n        return (\n            <Container>\n                <Theme>\n                    <Title> characters and films </Title>\n                    <MarginedRow start='xs'>\n                    { data.characters.map((char, i) => {\n                        return (\n                            <Col key={i} xs={12} sm={6} md={3}>\n                                <Name \n                                    isCurrentCharacter={char.name===selectedCharacter}\n                                    onClick={() => handleCharacterNameClick(char.name, char.url)}>\n                                    {char.name} \n                                    <NameUnderline isCurrentCharacter={char.name===selectedCharacter}/>  \n                                </Name>\n                            </Col>\n                        )\n                    })}\n                    </MarginedRow>\n                    <Row start='xs'>\n                        <Col xsOffset={1}>\n                        { films.length > 0\n                        ? status==='SETTLED' && films.map((film, i) => {\n                            return (\n                                <Row key={i}>\n                                    <Col>\n                                        <ResultCard\n                                            film={film}\n                                        />\n                                    </Col>\n                                </Row>\n                            )\n                        })\n                        : status==='SETTLED' && selectedCharacter &&\n                            <Row>\n                                <Col>\n                                    <EmptyState> Sorry, there is an error or this character is not in any films. </EmptyState> \n                                </Col>\n                            </Row>\n                        }\n                        </Col>\n                    </Row>\n                </Theme>\n            </Container>\n        )\n    }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AAEA;AAIA;AAMA;AACA;AAAA;AAcA;AACA;AAAA;AACA;AAAA;AASA;AAMA;AAIA;AACA;AAIA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAUA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AAnBA;AAqBA;AACA;AACA;AACA;AAHA;AACA;AAIA;AAEA;AACA;AA3BA;AACA;AACA;AACA;AAHA;AAFA;AAOA;AACA;;;;;;AAsBA;;;;;;;AACA;AAEA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;;;;AA7GA;AACA;AADA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}